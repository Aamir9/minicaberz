
@model thechauffeurteam.Models.API.CabOffice
@{
    ViewBag.Title = "Cab Office  Profile";
    Layout = "~/Views/Shared/_CabOfficeLayout.cshtml";
}

<!-- Header -->
<div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center" style="min-height: 400px; background-image: url(~/assets/img/theme/profile-cover.jpg); background-size: cover; background-position: center top;">
    <!-- Mask -->
    <span class="mask bg-gradient-default opacity-8"></span>
    <!-- Header container -->
    <div class="container-fluid d-flex align-items-center">
        <div class="row">
            <div class="col-md-10">
                <h3 class="text-white">Hello @Html.DisplayTextFor(x=>x.CabOfficeName)</h3>
                
               
                @*<a href="#!" class="btn btn-info">Edit profile</a>*@
            </div>
        </div>
    </div>
</div>
<!-- Page content -->
<div class="container-fluid mt--8">
    <div class="row">
        <div class="col-md-12 mt-5">
            <div class="card bg-secondary shadow">
                <div class="card-header bg-white border-0">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <h3 class="mb-0">My account</h3>
                        </div>
                        <div class="col-4 text-right">
                            <a href="~/CabOffice/driverprofile/@Model.Id" class="btn btn-sm btn-info">View</a>
                            <button class="btn btn-sm btn-primary nextbtn2" id="btnEdit">Edit</button>
                            <button class="btn btn-sm btn-warning " disabled id="btnSave" onclick="saveProfile()">Save</button>
                        </div>
                    </div>
                </div>
                <div class="card-body">


                    @using (Html.BeginForm()) //"UpdateDriver","Driver"
                    {

                        @Html.AntiForgeryToken()

                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs nav-justified" role="tablist" style="margin:20px">
                            <li class="nav-item">
                                <a class="nav-link active nd" data-toggle="tab" href="#driver">Cab Office</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link nv" data-toggle="tab" href="#vehicle">Vehicle</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link nl" data-toggle="tab" href="#login">Login Detail</a>
                            </li>
                        </ul>


                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div id="driver" class="container tab-pane active">

                                <div style="background-color:white;border-top:2px solid #59D1D3;padding-top:15px;border-radius:5px;padding-bottom:10px;width:100%;">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <h5>PERSONAL DETAIL</h5><br />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-9">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-12" for="name"><b>Cab Office Name</b></label>
                                                        <div class="col-sm-12">
                                                            @Html.EditorFor(model => model.CabOfficeName, new { htmlAttributes = new { @class = "form-control", placeholder = "Driver Name", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.CabOfficeName, "", new { @class = "text-danger" })

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-12" for="address"><b>Cabb Office Address</b></label>
                                                        <div class="col-sm-12">
                                                            @Html.EditorFor(model => model.CabOfficeAddress, new { htmlAttributes = new { @class = "form-control", placeholder = "Driver Address", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.CabOfficeAddress, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                @*<div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-12" for="Gender"><b>Gender</b></label>
                                                        <div class="col-sm-12">

                                                            <select class="form-control" disabled name="gender">
                                                                @if (Model.Gender.Equals("Male"))
                                                                {
                                                                    <option value="1" selected>Male</option>
                                                                    <option value="2">Female</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="1">Male</option>
                                                                    <option value="2" selected>Female</option>
                                                                }

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>*@
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-12" for="dateOfBirth"><b>Date Business Commenced </b></label>
                                                        <div class="col-sm-12">
                                                            <input type="text" id="dob" disabled value="@Model.CabOfficeBusinessStartDate.ToString().Substring(0,10)" class="form-control" />

                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            @*<label class="control-label col-sm-12" for="nationality"><b>Nationality</b></label>
                                                            <div class="col-sm-12">

                                                                @Html.EditorFor(model => model.Nationality, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                                                @Html.ValidationMessageFor(model => model.Nationality, "", new { @class = "text-danger" })
                                                            </div>*@
                                                        </div>
                                                    </div> </div>
                                                
                                            </div>
                                        </div>

                                        

                                        <div class="form-group col-md-6">
                                            <label class="control-label col-sm-12" for="city"><b>Dispatch system Name</b></label>
                                            <div class="col-sm-12">
                                                @Html.EditorFor(model => model.DispachSystemName, new { htmlAttributes = new { @class = "form-control", placeholder = "City", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.DispachSystemName, "", new { @class = "text-danger" })

                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label class="control-label col-sm-12" for="postCode"><b>Post Code</b></label>
                                            <div class="col-sm-12">
                                                @Html.EditorFor(model => model.CabOfficePostCode, new { htmlAttributes = new { @class = "form-control", placeholder = "Post Code", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.CabOfficePostCode, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-12" for=" email"><b>Email</b></label>
                                                <div class="col-sm-12">
                                                    @Html.EditorFor(model => model.CabOfficeEmail, new { htmlAttributes = new { @class = "form-control", placeholder = "Driver Email", @readonly = "readonly" } })
                                                    @Html.ValidationMessageFor(model => model.CabOfficeEmail, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-12" for="phNo"><b>Phone</b></label>
                                                <div class="col-sm-12">

                                                    @Html.EditorFor(model => model.CabOfficePhoneNo, new { htmlAttributes = new { @class = "form-control", placeholder = "Phone", @readonly = "readonly" } })
                                                    @Html.ValidationMessageFor(model => model.CabOfficePhoneNo, "", new { @class = "text-danger" })

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-12" for="Fax"><b>Fax</b></label>
                                                <div class="col-sm-12">
                                                    @*<input type="text" value="@Model.Fax"  readonly/>*@
                                                    @Html.EditorFor(model => model.CabOfficeFax, new { htmlAttributes = new { @class = "form-control", placeholder = "Fax", @readonly = "readonly" } })
                                                    @Html.ValidationMessageFor(model => model.CabOfficeFax, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>
                                        
                                        

                                    </div>



                                </div>
                        
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs nav-justified" role="tablist" style="margin:20px">
                                    <li class="nav-item">
                                        <a class="nav-link nextbtn" data-toggle="tab" href="#vehicle">Next</a>
                                    </li>
                                </ul>
                            </div>

                            @* --------------------- *@
                            <div id="vehicle" class="container tab-pane fade">

                                <div style="background-color:white;border-top:2px solid #5A84B7;padding-top:15px;border-radius:5px;padding-bottom:50px;width:100%;margin-top:20px">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <h5>VEHICLE DETAIL</h5><br />
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-9">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-12" for="carType"><b>Number Of Saloon</b></label>
                                                        <div class="col-sm-12">
                                                            @Html.EditorFor(model => model.NumberOfSaloon, new { htmlAttributes = new { @class = "form-control", placeholder = "Car Type", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.NumberOfSaloon, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group ">
                                                        <label class="control-label col-sm-12" for="model"><b>Number Of Estate</b></label>
                                                        <div class="col-sm-12">
                                                            @Html.EditorFor(model => model.NumberOfEstate, new { htmlAttributes = new { @class = "form-control", placeholder = "Car Model", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.NumberOfEstate, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group ">
                                                        <label class="control-label col-sm-12" for="make"><b>Numbe Of Mpv</b></label>
                                                        <div class="col-sm-12">
                                                            @Html.EditorFor(model => model.NumberOfMPV, new { htmlAttributes = new { @class = "form-control", placeholder = "Make", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.NumberOfMPV, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>



                                                <div class="col-md-3">
                                                    <div class="form-group ">
                                                        <label class="control-label col-sm-12" for="make"><b>Numbe Of Others</b></label>
                                                        <div class="col-sm-12">
                                                            @Html.EditorFor(model => model.NumberOfOtherVehicle, new { htmlAttributes = new { @class = "form-control", placeholder = "Make", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.NumberOfOtherVehicle, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>






                                            </div>
                                        </div>
                                   

                                    </div>
                              

                                    <br />

                                </div>
                                <ul class="nav nav-tabs nav-justified" role="tablist" style="margin:20px">
                                    <li class="nav-item">
                                        <a class="nav-link nextbtn2" data-toggle="tab" href="#login">Next</a>
                                    </li>
                                </ul>
                            </div>
                            <div id="login" class="container tab-pane fade">

                                <div style="background-color:white;border-top:2px solid red;padding:15px;border-radius:5px;padding-bottom:50px;width:100%;margin-top:20px">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <h5>LOGINS ACCOUNT DETAIL</h5><br />
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class="form-group col-md-6">
                                            <label class="control-label col-sm-12" for="UserFirstName"><b>First Name</b></label>
                                            <div class="col-sm-12">
                                                @Html.EditorFor(model => model.UserFirstName, new { htmlAttributes = new { @class = "form-control changefield", placeholder = "First Name", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.UserFirstName, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label class="control-label col-sm-12" for="userlName"><b>Last Name</b></label>
                                            <div class="col-sm-12">
                                                @Html.EditorFor(model => model.UserLastName, new { htmlAttributes = new { @class = "form-control changefield", placeholder = "Last Name", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.UserLastName, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="control-label col-md-12" for="UserPhNo"><b>Mobile</b></label>
                                            <div class="col-sm-12">
                                                @Html.EditorFor(model => model.UserMobile, new { htmlAttributes = new { @class = "form-control changefield", placeholder = "Mobile", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.UserMobile, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label class="control-label col-sm-12" for="UserEmail"><b>Email</b></label>
                                            <div class="col-sm-12">
                                                @Html.EditorFor(model => model.UserEmail, new { htmlAttributes = new { @class = "form-control ", placeholder = "Email", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.UserEmail, "", new { @class = "text-danger" })

                                            </div>
                                        </div>
                                        @*<div class="form-group col-md-6">
                                            <label class="control-label col-sm-12" for="Password"><b>Password</b></label>
                                            <div class="col-sm-12">
                                                @Html.TextBoxFor(model => model.Password, new { htmlAttributes = new { @class = "form-control changefield", placeholder = "Password", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                            </div>
                                        </div>*@
                                  
                                        <input type="hidden" id="Id" name="Id" value="@Model.Id" />
                                    </div>
                                </div>


                            </div>
                        </div>
                    }
                </div>

            </div>
        </div>
    </div>



    <!-- Footer -->
    <footer class="footer">
        <div class="row align-items-center justify-content-xl-between">
            <div class="col-xl-6">
                <div class="copyright text-center text-xl-left text-muted">
                    &copy; 2018 <a href="https://www.itLogi.solutions" class="font-weight-bold ml-1" target="_blank">ItLogi</a>
                </div>
            </div>
        </div>
    </footer>
</div>


@section scripts{
    <script type="text/javascript">

        $("#btnEdit").click(function () {
            $("#btnEdit").addClass("disabled")
            $("#btnSave").removeAttr("disabled")
            $(".changefield").removeAttr("readonly");

        });
        function saveProfile() {
            if ($("#Password").val().localeCompare($("#ConformPassword").val())) {
                alert("Password does not match!");
            }
            else {
                $.post("@Url.Action("EditProfile", "Drivers")",
                    {
                        fName: $("#UserFirstName").val(),
                        lName: $("#UserLastName").val(),
                        phNo: $("#UserPhNo").val(),
                        password: $("#Password").val(),
                        confPassword: $("#ConformPassword").val(),
                        Id: $("#Id").val()

                    },
                    function (data) {
                        if (data == 0) {
                            //alert("Sorry! \n Profile can't update.");
                        }
                        else if (data == 1) {
                            $(".changefield").addClass("disabled");
                            $("#btnSave").addClass("disabled");
                            //alert("Profile successfuly updated.");


                        }

                    }
                );
            }
        }



    </script>

    <script type="text/javascript">


        $(document).ready(function () {
            $('.nextbtn').click(function () {
                $('.nv').addClass('active');
                $('.nd').removeClass('active');
                $('.nl').removeClass('active');

                $('#driver').hide();
                $('#login').hide();
                $('#vehicle').show();


            });


            $('.nextbtn2').click(function () {
                $('.nl').addClass('active');
                $('.nv').removeClass('active');
                $('.nd').removeClass('active');

                $('#driver').hide();
                $('#vehicle').hide();
                $('#login').show();

            });



            $('.nd').click(function () {

                $('.nextbtn').removeClass('active');
                $('#vehicle').hide();
                $('#login').hide();
                $('#driver').show();

            });


            $('.nv').click(function () {

                $('.nextbtn2').removeClass('active');

                $('#driver').hide();
                $('#login').hide();
                $('#vehicle').show();



            });

            $('.nv').click(function () {

                $('#login').hide();
                $('#driver').hide();
                $('#vehicle').show();

            });

            $('.nl').click(function () {

                $('#driver').hide();

                $('#vehicle').hide();
                $('#login').show();
            });

        });
    </script>
}
